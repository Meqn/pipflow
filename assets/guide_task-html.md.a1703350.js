import{_ as s,o as a,c as l,X as n}from"./chunks/framework.d24d905d.js";const h=JSON.parse('{"title":"HTML ä»»åŠ¡","description":"","frontmatter":{},"headers":[],"relativePath":"guide/task-html.md","filePath":"guide/task-html.md","lastUpdated":1692942844000}'),o={name:"guide/task-html.md"},p=n(`<h1 id="html-ä»»åŠ¡" tabindex="-1">HTML ä»»åŠ¡ <a class="header-anchor" href="#html-ä»»åŠ¡" aria-label="Permalink to &quot;HTML ä»»åŠ¡&quot;">â€‹</a></h1><h2 id="process-flow" tabindex="-1">å¤„ç†æµç¨‹ <a class="header-anchor" href="#process-flow" aria-label="Permalink to &quot;å¤„ç†æµç¨‹ {#process-flow}&quot;">â€‹</a></h2><ul><li>ç¯å¢ƒå˜é‡å¤„ç† <blockquote><p>ç¯å¢ƒå˜é‡åœ¨æ„å»ºæ—¶ä¼šè¢«é™æ€æ›¿æ¢</p></blockquote></li><li>æ¨¡æ¿æ¸²æŸ“ <blockquote><p>æ¸²æŸ“HTMLæ¨¡æ¿å¼•æ“ï¼Œæ”¯æŒ <code>Pug</code>, <code>EJS</code>, <code>Handlebars</code>, <code>Nunjucks</code>, <code>art-template</code></p></blockquote></li><li>åˆ«åæ›¿æ¢ <blockquote><p>é™æ€æ›¿æ¢ <code>alias</code> å¯¹åº”çš„å­—ç¬¦ä¸²</p></blockquote></li><li>è‡ªå®šä¹‰å¤„ç†æµç¨‹ <blockquote><p>å¤„ç† <code>pipflow.config.js</code> ä¸­æ·»åŠ çš„è‡ªå®šä¹‰ <code>plugins</code></p></blockquote></li><li>å†…å®¹å‹ç¼© <blockquote><p>åŸºäº <code>html-minifier-terser</code> çš„å†…å®¹å‹ç¼©</p></blockquote></li><li>èµ„æºæ–‡ä»¶æŒ‡çº¹ <blockquote><p>å°†æ„å»ºåé€šè¿‡ç”Ÿæˆçš„ <code>manifest.json</code> ä¸­åŒ…å« hash è¿‡çš„èµ„æºæ–‡ä»¶ç‰ˆæœ¬çš„æ˜ å°„ï¼Œè¿›è¡Œå¼•å…¥é“¾æ¥çš„æ›¿æ¢</p></blockquote></li></ul><h2 id="ç¯å¢ƒå˜é‡å¤„ç†" tabindex="-1">ç¯å¢ƒå˜é‡å¤„ç† <a class="header-anchor" href="#ç¯å¢ƒå˜é‡å¤„ç†" aria-label="Permalink to &quot;ç¯å¢ƒå˜é‡å¤„ç†&quot;">â€‹</a></h2><p>htmlå†…å®¹ä¸­çš„ä»¥ <code>p<wbr>rocess.env.XXX</code> å†™å…¥çš„ç¯å¢ƒå˜é‡å°†ä¼šè¢«é™æ€æ›¿æ¢ã€‚</p><h2 id="html-templater" tabindex="-1">æ¨¡æ¿æ¸²æŸ“ <a class="header-anchor" href="#html-templater" aria-label="Permalink to &quot;æ¨¡æ¿æ¸²æŸ“ {#html-templater}&quot;">â€‹</a></h2><p><code>pipflow</code> å†…ç½®äº†<strong>5</strong>æ¬¾æµè¡Œçš„æ¨¡æ¿å¼•æ“ï¼Œå®ƒä»¬æ›¾ç»éƒ½æ˜¯ä¸»æµ ğŸ¤ªã€‚è®©æˆ‘ä»¬æ¥é€ä¸€ä»‹ç»å®ƒä»¬:</p><ol><li><p><strong>Pug</strong>:</p><ul><li><strong>ç®€ä»‹:</strong> Pugæ˜¯ä¸€ç§é«˜åº¦å¯è¯»æ€§çš„æ¨¡æ¿å¼•æ“ï¼Œå…·æœ‰ç®€æ´çš„è¯­æ³•å’Œå¼ºå¤§çš„åŠŸèƒ½ã€‚å®ƒé‡‡ç”¨ç¼©è¿›å’Œæ ‡ç­¾è¯­æ³•ï¼Œå¯ä»¥å¿«é€Ÿç”ŸæˆHTMLä»£ç ã€‚</li><li><strong>æ–‡æ¡£:</strong> <a href="https://pugjs.org/api/getting-started.html" target="_blank" rel="noreferrer">Pugæ–‡æ¡£</a> ã€ <a href="https://www.npmjs.com/package/gulp-pug" target="_blank" rel="noreferrer">gulp-pug æ’ä»¶æ–‡æ¡£</a></li></ul></li><li><p><strong>EJS</strong>:</p><ul><li><strong>ç®€ä»‹:</strong> EJSï¼ˆEmbedded JavaScriptï¼‰æ˜¯ä¸€ç§ç®€å•è€Œçµæ´»çš„æ¨¡æ¿å¼•æ“ï¼Œå¯å°†JavaScriptä»£ç åµŒå…¥åˆ°æ¨¡æ¿ä¸­ã€‚å®ƒå…è®¸æ‚¨åŠ¨æ€ç”ŸæˆHTMLé¡µé¢ã€‚</li><li><strong>æ–‡æ¡£:</strong> <a href="https://ejs.co/" target="_blank" rel="noreferrer">EJSæ–‡æ¡£</a> ã€ <a href="https://www.npmjs.com/package/gulp-ejs" target="_blank" rel="noreferrer">gulp-ejs æ’ä»¶æ–‡æ¡£</a></li></ul></li><li><p><strong>Handlebars</strong>:</p><ul><li><strong>ç®€ä»‹:</strong> Handlebarsæ˜¯ä¸€ç§è¯­æ³•ç®€æ´çš„æ¨¡æ¿å¼•æ“ï¼Œå®ƒä½¿ç”¨æ ‡ç­¾å’Œè¡¨è¾¾å¼æ¥ç”ŸæˆHTMLã€‚å®ƒå…·æœ‰æ˜“å­¦æ˜“ç”¨çš„ç‰¹ç‚¹ï¼Œéå¸¸é€‚åˆå¿«é€Ÿæ„å»ºé™æ€é¡µé¢ã€‚</li><li><strong>æ–‡æ¡£:</strong> <a href="https://handlebarsjs.com/guide/" target="_blank" rel="noreferrer">Handlebarsæ–‡æ¡£</a> ã€ <a href="https://www.npmjs.com/package/gulp-hb" target="_blank" rel="noreferrer">gulp-hb æ’ä»¶æ–‡æ¡£</a></li></ul></li><li><p><strong>Nunjucks</strong>:</p><ul><li><strong>ç®€ä»‹:</strong> Nunjucksæ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„æ¨¡æ¿å¼•æ“ï¼Œå®ƒæ”¯æŒæ¡ä»¶è¯­å¥ã€å¾ªç¯å’Œç»§æ‰¿ç­‰é«˜çº§åŠŸèƒ½ã€‚å®ƒè¢«å¹¿æ³›ç”¨äºJavaScriptå¼€å‘ä¸­çš„æ¨¡æ¿æ¸²æŸ“ã€‚</li><li><strong>æ–‡æ¡£:</strong> <a href="https://mozilla.github.io/nunjucks/" target="_blank" rel="noreferrer">Nunjucksæ–‡æ¡£</a> ã€ <a href="https://www.npmjs.com/package/gulp-nunjucks" target="_blank" rel="noreferrer">gulp-nunjucks æ’ä»¶æ–‡æ¡£</a></li></ul></li><li><p><strong>art-template</strong>:</p><ul><li><strong>ç®€ä»‹:</strong> art-templateæ˜¯ä¸€ç§å¿«é€Ÿã€ç®€æ´è€Œä¸”å¯æ‰©å±•çš„æ¨¡æ¿å¼•æ“ã€‚å®ƒæ”¯æŒJavaScriptè¯­æ³•å’Œè‡ªå®šä¹‰æ‰©å±•ï¼Œéå¸¸é€‚åˆå‰ç«¯å¼€å‘å’ŒæœåŠ¡å™¨ç«¯æ¸²æŸ“ã€‚</li><li>å®ƒåŒæ—¶æ”¯æŒä¸¤ç§æ¨¡æ¿è¯­æ³•ã€‚åŸå§‹è¯­æ³•å…¼å®¹ <code>EJS</code>ã€<code>Underscore</code>ã€<code>LoDash</code> æ¨¡æ¿ï¼Œæ ‡å‡†è¯­æ³•ç±»ä¼¼ <code>Mustache</code> ã€‚</li><li><strong>æ–‡æ¡£:</strong> <a href="https://aui.github.io/art-template/" target="_blank" rel="noreferrer">art-templateæ–‡æ¡£</a> ã€ <a href="https://www.npmjs.com/package/gulp-art-tpl" target="_blank" rel="noreferrer">gulp-art-tpl æ’ä»¶æ–‡æ¡£</a></li><li><em>ä¸ªäººæ¨è</em>ï¼š åŠŸèƒ½å¼ºå¤§ï¼Œä½¿ç”¨ç®€å•</li></ul></li></ol><p>è¿™äº›æ¨¡æ¿å¼•æ“åœ¨è¿‡å»æ›¾ç»å¾ˆæµè¡Œï¼Œæ¯ä¸€æ¬¾éƒ½æœ‰è‡ªå·±ç‹¬ç‰¹çš„ç‰¹ç‚¹å’Œç”¨æ³•ã€‚æ‚¨å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚å’Œåå¥½é€‰æ‹©é€‚åˆçš„æ¨¡æ¿å¼•æ“æ¥å¼€å‘æ‚¨çš„é¡¹ç›®ã€‚</p><h3 id="configuration" tabindex="-1">æ¸²æŸ“é…ç½®é¡¹ <a class="header-anchor" href="#configuration" aria-label="Permalink to &quot;æ¸²æŸ“é…ç½®é¡¹ {#configuration}&quot;">â€‹</a></h3><h3 id="example" tabindex="-1">ç¤ºä¾‹ <a class="header-anchor" href="#example" aria-label="Permalink to &quot;ç¤ºä¾‹ {#example}&quot;">â€‹</a></h3><p>pipflowå†…ç½®çš„æ¨¡æ¿å¼•æ“ä¸­ï¼ŒHandlebars çš„ä½¿ç”¨ç›¸å¯¹å¤æ‚ä¸€äº›ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥å†™ä¸€ä¸ª Handlebars ä»£ç ç‰‡æ®µå¤ç”¨çš„ç¤ºä¾‹ã€‚</p><p><strong>æ¨¡æ¿æ–‡ä»¶ï¼š</strong></p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">&lt;!-- ./src/index.html --&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">head</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">title</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">pipflow</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">title</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">head</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">&lt;!-- å¤ç”¨ header.hbs æ–‡ä»¶ --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    {{&gt; header }}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">{{ description }}</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">&lt;!-- ./src/views/includes/header.hbs --&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">header</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">hello {{ title }}!</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">header</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><p><strong>æ¨¡æ¿é…ç½®ï¼š</strong></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// ./pipflow.config.js</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">html</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">input</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/**/*.{html,hbs}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">compiler</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">handlebars</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">compileOptions</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">partials</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/views/includes/*.{html,hbs}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">data</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">title</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pipflow</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">description</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">å¼€ç®±å³ç”¨çš„å‰ç«¯å¼€å‘å·¥ä½œæµ</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h2 id="content-compress" tabindex="-1">å†…å®¹å‹ç¼© <a class="header-anchor" href="#content-compress" aria-label="Permalink to &quot;å†…å®¹å‹ç¼© {#content-compress}&quot;">â€‹</a></h2><p>htmlçš„å‹ç¼©æ˜¯åŸºäº <code>html-minifier-terser</code> æ’ä»¶, è¯¦ç»†é…ç½®è¯·å‚è§ <a href="https://terser.org/html-minifier-terser/" target="_blank" rel="noreferrer">è¿™é‡Œ</a>ã€‚</p><p><strong>å‹ç¼©é»˜è®¤é…ç½®ï¼š</strong></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">collapseWhitespace</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">removeComments</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">removeEmptyAttributes</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">collapseBooleanAttributes</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">minifyJS</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">minifyCSS</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div>`,20),e=[p];function t(r,c,i,F,D,y){return a(),l("div",null,e)}const d=s(o,[["render",t]]);export{h as __pageData,d as default};
